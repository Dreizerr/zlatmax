import*as utils from"./utils.js";import{useDynamicAdapt}from"./dynamicAdapt.js";const header=document.querySelector(".header"),phoneSpoiler=document.querySelector(".header-actions__spoiler-arrow"),phoneOrder=document.querySelector(".header-actions__phone"),catalog=document.querySelector(".menu-catalog__list"),menu=document.querySelector(".header-top-menu"),subMenu=document.querySelector(".sub-menu-catalog");function headerActions(e){var t,a,c,e=e.target;e.closest(".menu-burger")&&(e.closest(".menu-burger--active")?(a=catalog.querySelector(".menu-catalog__link--active"),t=subMenu.querySelector(".sub-menu-catalog__block--active"),e.closest(".menu-burger").classList.remove("menu-burger--active"),document.body.classList.remove("scroll-lock"),menu.classList.remove("header-top-menu--active"),catalog.classList.remove("header-top-menu__sub-menu--active"),a&&a.classList.remove("menu-catalog__link--active"),t&&t.classList.remove("sub-menu-catalog__block--active")):(e.closest(".menu-burger").classList.add("menu-burger--active"),document.body.classList.add("scroll-lock"),menu.classList.add("header-top-menu--active"))),e.closest(".back")&&(a=utils.findParent(e,"header-top-menu__sub-menu--active")?utils.findParent(e,"header-top-menu__sub-menu--active"):utils.findParent(e,"sub-menu-catalog__block--active"),t=document.querySelector(".sub-menu-catalog__block--active"),a.classList.remove("header-top-menu__sub-menu--active","sub-menu-catalog__block--active"),t)&&t.classList.remove("sub-menu-catalog__block--active"),e.closest("[data-catalog-parent]")&&(a=e.dataset.catalogParent||null,(t=document.querySelector(`[data-catalog-child="${a}"]`))?(a=document.querySelector(".menu-catalog__link--active"),c=document.querySelector(".sub-menu-catalog__block--active"),a&&c&&e!==a&&(a.classList.remove("menu-catalog__link--active"),c.classList.remove("sub-menu-catalog__block--active")),e.classList.toggle("menu-catalog__link--active"),t.classList.toggle("sub-menu-catalog__block--active")):console.log("Подменю не существует")),e.closest(".header-top-menu__link-catalog")&&catalog.classList.add("header-top-menu__sub-menu--active")}useDynamicAdapt("max"),header.addEventListener("click",headerActions);